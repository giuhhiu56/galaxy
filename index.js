const _0x1e76d1=_0x3711;(function(_0x5a1cd2,_0x149f12){const _0x17f394=_0x3711,_0x3c87d4=_0x5a1cd2();while(!![]){try{const _0x59a27a=parseInt(_0x17f394(0xcd))/0x1+-parseInt(_0x17f394(0xcb))/0x2*(parseInt(_0x17f394(0xba))/0x3)+-parseInt(_0x17f394(0x9b))/0x4*(parseInt(_0x17f394(0x131))/0x5)+-parseInt(_0x17f394(0x83))/0x6*(parseInt(_0x17f394(0x133))/0x7)+-parseInt(_0x17f394(0xe3))/0x8+parseInt(_0x17f394(0x8b))/0x9*(parseInt(_0x17f394(0xb0))/0xa)+-parseInt(_0x17f394(0xdd))/0xb*(-parseInt(_0x17f394(0xab))/0xc);if(_0x59a27a===_0x149f12)break;else _0x3c87d4['push'](_0x3c87d4['shift']());}catch(_0x1c532c){_0x3c87d4['push'](_0x3c87d4['shift']());}}}(_0x22d5,0xaf5c4));const express=require('express'),app=express(),axios=require(_0x1e76d1(0xc6)),os=require('os'),fs=require('fs'),path=require(_0x1e76d1(0xc4)),{promisify}=require('util'),exec=promisify(require(_0x1e76d1(0x128))[_0x1e76d1(0x123)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1e76d1(0xd0)][_0x1e76d1(0xf2)]||'',PROJECT_URL=process[_0x1e76d1(0xd0)][_0x1e76d1(0xa0)]||'',AUTO_ACCESS=process[_0x1e76d1(0xd0)][_0x1e76d1(0x89)]||![],FILE_PATH=process[_0x1e76d1(0xd0)]['FILE_PATH']||_0x1e76d1(0xe8),SUB_PATH=process[_0x1e76d1(0xd0)]['SUB_PATH']||_0x1e76d1(0xa1),PORT=process['env'][_0x1e76d1(0xfc)]||process[_0x1e76d1(0xd0)][_0x1e76d1(0x132)]||0xbb8,UUID=process[_0x1e76d1(0xd0)][_0x1e76d1(0x98)]||'',NEZHA_SERVER=process[_0x1e76d1(0xd0)][_0x1e76d1(0xe5)]||'',NEZHA_PORT=process[_0x1e76d1(0xd0)][_0x1e76d1(0xda)]||'',NEZHA_KEY=process[_0x1e76d1(0xd0)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x1e76d1(0x135)]||'',ARGO_AUTH=process[_0x1e76d1(0xd0)][_0x1e76d1(0xfd)]||'',ARGO_PORT=process[_0x1e76d1(0xd0)]['ARGO_PORT']||0x1f90,CFIP=process[_0x1e76d1(0xd0)][_0x1e76d1(0xea)]||'www.visa.com.sg',CFPORT=process['env'][_0x1e76d1(0x126)]||0x1bb,NAME=process[_0x1e76d1(0xd0)]['NAME']||_0x1e76d1(0x116);!fs[_0x1e76d1(0xbc)](FILE_PATH)?(fs[_0x1e76d1(0x97)](FILE_PATH),console[_0x1e76d1(0xf0)](FILE_PATH+'\x20is\x20created')):console[_0x1e76d1(0xf0)](FILE_PATH+_0x1e76d1(0xa5));let npmPath=path[_0x1e76d1(0x12c)](FILE_PATH,'npm'),phpPath=path[_0x1e76d1(0x12c)](FILE_PATH,_0x1e76d1(0xa9)),webPath=path[_0x1e76d1(0x12c)](FILE_PATH,_0x1e76d1(0x106)),botPath=path[_0x1e76d1(0x12c)](FILE_PATH,_0x1e76d1(0x121)),subPath=path[_0x1e76d1(0x12c)](FILE_PATH,_0x1e76d1(0xe0)),listPath=path[_0x1e76d1(0x12c)](FILE_PATH,'list.txt'),bootLogPath=path[_0x1e76d1(0x12c)](FILE_PATH,'boot.log'),configPath=path[_0x1e76d1(0x12c)](FILE_PATH,'config.json');function deleteNodes(){const _0x22e23c=_0x1e76d1;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3901d8;try{_0x3901d8=fs[_0x22e23c(0xe9)](subPath,_0x22e23c(0xb4));}catch{return null;}const _0x3fa73d=Buffer[_0x22e23c(0x130)](_0x3901d8,'base64')[_0x22e23c(0x8a)](_0x22e23c(0xb4)),_0x470c33=_0x3fa73d[_0x22e23c(0xa8)]('\x0a')[_0x22e23c(0xb5)](_0x4c55f0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x22e23c(0x8f)](_0x4c55f0));if(_0x470c33['length']===0x0)return;return axios[_0x22e23c(0xbe)](UPLOAD_URL+_0x22e23c(0xd1),JSON[_0x22e23c(0xae)]({'nodes':_0x470c33}),{'headers':{'Content-Type':_0x22e23c(0x136)}})[_0x22e23c(0xa6)](_0x333acd=>{return null;});}catch(_0x1d95a2){return null;}}function cleanupOldFiles(){const _0x286cd1=_0x1e76d1,_0x47e679=[_0x286cd1(0x106),_0x286cd1(0x121),_0x286cd1(0x10c),_0x286cd1(0xa9),'sub.txt',_0x286cd1(0xbd)];_0x47e679[_0x286cd1(0xf1)](_0x2e7ed5=>{const _0x1609d4=_0x286cd1,_0x286e14=path[_0x1609d4(0x12c)](FILE_PATH,_0x2e7ed5);fs[_0x1609d4(0xbf)](_0x286e14,()=>{});});}app[_0x1e76d1(0xef)]('/',function(_0x4d17a9,_0x89c7d4){const _0xcc2378=_0x1e76d1;_0x89c7d4['send'](_0xcc2378(0xf9));});const config={'log':{'access':_0x1e76d1(0xd8),'error':_0x1e76d1(0xd8),'loglevel':_0x1e76d1(0x102)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x1e76d1(0xa7)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x1e76d1(0xc3),'dest':0xbba},{'path':_0x1e76d1(0xca),'dest':0xbbb},{'path':_0x1e76d1(0x108),'dest':0xbbc}]},'streamSettings':{'network':_0x1e76d1(0x95)}},{'port':0xbb9,'listen':_0x1e76d1(0x9f),'protocol':_0x1e76d1(0x11e),'settings':{'clients':[{'id':UUID}],'decryption':_0x1e76d1(0x102)},'streamSettings':{'network':_0x1e76d1(0x95),'security':'none'}},{'port':0xbba,'listen':_0x1e76d1(0x9f),'protocol':_0x1e76d1(0x11e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1e76d1(0x102),'wsSettings':{'path':_0x1e76d1(0xc3)}},'sniffing':{'disable':![],'destOverride':[_0x1e76d1(0x8e),_0x1e76d1(0x8d),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1e76d1(0x9f),'protocol':_0x1e76d1(0x103),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'disable':![],'destOverride':[_0x1e76d1(0x8e),'tls',_0x1e76d1(0x109)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1e76d1(0x9f),'protocol':_0x1e76d1(0xe2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1e76d1(0x108)}},'sniffing':{'disable':![],'destOverride':[_0x1e76d1(0x8e),_0x1e76d1(0x8d),_0x1e76d1(0x109)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x1e76d1(0x9c),'tag':_0x1e76d1(0xc8)},{'protocol':_0x1e76d1(0x11a),'tag':_0x1e76d1(0xf8)}]};fs[_0x1e76d1(0xc0)](path[_0x1e76d1(0x12c)](FILE_PATH,'config.json'),JSON[_0x1e76d1(0xae)](config,null,0x2));function getSystemArchitecture(){const _0x342c52=_0x1e76d1,_0x545816=os['arch']();return _0x545816===_0x342c52(0x134)||_0x545816===_0x342c52(0xb8)||_0x545816===_0x342c52(0xf6)?_0x342c52(0x134):_0x342c52(0x114);}function downloadFile(_0x51e0c3,_0x227702,_0x1440b8){const _0x37924d=_0x1e76d1,_0x2ac2c1=path['join'](FILE_PATH,_0x51e0c3),_0x2994da=fs[_0x37924d(0xed)](_0x2ac2c1);axios({'method':_0x37924d(0xef),'url':_0x227702,'responseType':_0x37924d(0x10f)})[_0x37924d(0x12e)](_0x12a206=>{const _0x532e58=_0x37924d;_0x12a206['data'][_0x532e58(0xf3)](_0x2994da),_0x2994da['on']('finish',()=>{const _0x5863a2=_0x532e58;_0x2994da['close'](),console[_0x5863a2(0xf0)](_0x5863a2(0xee)+_0x51e0c3+'\x20successfully'),_0x1440b8(null,_0x51e0c3);}),_0x2994da['on']('error',_0x54b966=>{const _0x282c5e=_0x532e58;fs['unlink'](_0x2ac2c1,()=>{});const _0x38ceea=_0x282c5e(0xee)+_0x51e0c3+_0x282c5e(0x129)+_0x54b966[_0x282c5e(0xc2)];console['error'](_0x38ceea),_0x1440b8(_0x38ceea);});})[_0x37924d(0xa6)](_0x442b54=>{const _0xa5754c=_0x37924d,_0x220d24='Download\x20'+_0x51e0c3+_0xa5754c(0x129)+_0x442b54['message'];console[_0xa5754c(0xb1)](_0x220d24),_0x1440b8(_0x220d24);});}async function downloadFilesAndRun(){const _0x2e1f46=_0x1e76d1,_0xc4ff4f=getSystemArchitecture(),_0x20b35d=getFilesForArchitecture(_0xc4ff4f);if(_0x20b35d[_0x2e1f46(0x12a)]===0x0){console[_0x2e1f46(0xf0)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x292b03=_0x20b35d[_0x2e1f46(0x10a)](_0x4611ec=>{return new Promise((_0xd44a1b,_0x2fcb6f)=>{downloadFile(_0x4611ec['fileName'],_0x4611ec['fileUrl'],(_0x1cfcdb,_0x520249)=>{_0x1cfcdb?_0x2fcb6f(_0x1cfcdb):_0xd44a1b(_0x520249);});});});try{await Promise[_0x2e1f46(0x84)](_0x292b03);}catch(_0x5ef310){console['error'](_0x2e1f46(0x87),_0x5ef310);return;}function _0x345e9e(_0x563f5f){const _0x5ea366=_0x2e1f46,_0x1f54e7=0x1fd;_0x563f5f[_0x5ea366(0xf1)](_0x59699f=>{const _0x5ee5f4=_0x5ea366,_0x284fa1=path[_0x5ee5f4(0x12c)](FILE_PATH,_0x59699f);fs['existsSync'](_0x284fa1)&&fs[_0x5ee5f4(0x107)](_0x284fa1,_0x1f54e7,_0x30ba25=>{const _0x50e4b9=_0x5ee5f4;_0x30ba25?console['error'](_0x50e4b9(0xd9)+_0x284fa1+':\x20'+_0x30ba25):console[_0x50e4b9(0xf0)](_0x50e4b9(0xc9)+_0x284fa1+':\x20'+_0x1f54e7[_0x50e4b9(0x8a)](0x8));});});}const _0x3cac11=NEZHA_PORT?['./npm',_0x2e1f46(0xa2),_0x2e1f46(0xe4)]:[_0x2e1f46(0x117),_0x2e1f46(0xa2),_0x2e1f46(0xe4)];_0x345e9e(_0x3cac11);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x49666f=NEZHA_SERVER[_0x2e1f46(0x86)](':')?NEZHA_SERVER[_0x2e1f46(0xa8)](':')[_0x2e1f46(0xe1)]():'',_0x955037=new Set([_0x2e1f46(0x11f),_0x2e1f46(0x90),_0x2e1f46(0xd7),_0x2e1f46(0xc1),_0x2e1f46(0xfb),_0x2e1f46(0x11b)]),_0x4c01d2=_0x955037[_0x2e1f46(0xf7)](_0x49666f)?_0x2e1f46(0x124):_0x2e1f46(0x91),_0x1b223c='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2e1f46(0x105)+NEZHA_SERVER+_0x2e1f46(0x10e)+_0x4c01d2+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x2e1f46(0xc0)](path['join'](FILE_PATH,_0x2e1f46(0x104)),_0x1b223c);const _0x2b3644=_0x2e1f46(0x92)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2b3644),console[_0x2e1f46(0xf0)](_0x2e1f46(0x110)),await new Promise(_0x555d18=>setTimeout(_0x555d18,0x3e8));}catch(_0x567340){console[_0x2e1f46(0xb1)](_0x2e1f46(0x8c)+_0x567340);}}else{let _0x373037='';const _0x8367aa=[_0x2e1f46(0x11f),'8443',_0x2e1f46(0xd7),_0x2e1f46(0xc1),_0x2e1f46(0xfb),_0x2e1f46(0x11b)];_0x8367aa[_0x2e1f46(0x86)](NEZHA_PORT)&&(_0x373037='--tls');const _0x2c6719=_0x2e1f46(0x92)+FILE_PATH+_0x2e1f46(0xff)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2e1f46(0xdb)+NEZHA_KEY+'\x20'+_0x373037+_0x2e1f46(0xe7);try{await exec(_0x2c6719),console['log'](_0x2e1f46(0xac)),await new Promise(_0x36700e=>setTimeout(_0x36700e,0x3e8));}catch(_0x5b4ae6){console['error'](_0x2e1f46(0xa4)+_0x5b4ae6);}}}else console['log'](_0x2e1f46(0xd5));const _0x35eceb=_0x2e1f46(0x92)+FILE_PATH+_0x2e1f46(0xf5)+FILE_PATH+_0x2e1f46(0xb6);try{await exec(_0x35eceb),console[_0x2e1f46(0xf0)]('web\x20is\x20running'),await new Promise(_0x14a330=>setTimeout(_0x14a330,0x3e8));}catch(_0x57953a){console['error'](_0x2e1f46(0x118)+_0x57953a);}if(fs[_0x2e1f46(0xbc)](path[_0x2e1f46(0x12c)](FILE_PATH,'bot'))){let _0x526cef;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x526cef=_0x2e1f46(0xd6)+ARGO_AUTH;else ARGO_AUTH[_0x2e1f46(0x115)](/TunnelSecret/)?_0x526cef='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2e1f46(0x125):_0x526cef=_0x2e1f46(0x127)+FILE_PATH+_0x2e1f46(0xe6)+ARGO_PORT;try{await exec(_0x2e1f46(0x92)+FILE_PATH+_0x2e1f46(0xdc)+_0x526cef+_0x2e1f46(0xe7)),console[_0x2e1f46(0xf0)](_0x2e1f46(0xb3)),await new Promise(_0x3d7b13=>setTimeout(_0x3d7b13,0x7d0));}catch(_0x435e88){console[_0x2e1f46(0xb1)](_0x2e1f46(0x9e)+_0x435e88);}}await new Promise(_0x58d442=>setTimeout(_0x58d442,0x1388));}function getFilesForArchitecture(_0x36d9e9){const _0x32c15b=_0x1e76d1;let _0x110af6;_0x36d9e9===_0x32c15b(0x134)?_0x110af6=[{'fileName':_0x32c15b(0x106),'fileUrl':_0x32c15b(0x122)},{'fileName':'bot','fileUrl':_0x32c15b(0x85)}]:_0x110af6=[{'fileName':'web','fileUrl':_0x32c15b(0x100)},{'fileName':'bot','fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1a126f=_0x36d9e9===_0x32c15b(0x134)?_0x32c15b(0x111):'https://amd64.ssss.nyc.mn/agent';_0x110af6[_0x32c15b(0xde)]({'fileName':_0x32c15b(0x10c),'fileUrl':_0x1a126f});}else{const _0xb5c8bf=_0x36d9e9===_0x32c15b(0x134)?_0x32c15b(0x113):_0x32c15b(0xb2);_0x110af6[_0x32c15b(0xde)]({'fileName':'php','fileUrl':_0xb5c8bf});}}return _0x110af6;}function _0x3711(_0x1ba338,_0x28e229){const _0x22d5ad=_0x22d5();return _0x3711=function(_0x371155,_0x504431){_0x371155=_0x371155-0x82;let _0x45c8a1=_0x22d5ad[_0x371155];return _0x45c8a1;},_0x3711(_0x1ba338,_0x28e229);}function argoType(){const _0x37a607=_0x1e76d1;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x37a607(0xd4))){fs['writeFileSync'](path[_0x37a607(0x12c)](FILE_PATH,_0x37a607(0x12d)),ARGO_AUTH);const _0x319296=_0x37a607(0xce)+ARGO_AUTH['split']('\x22')[0xb]+_0x37a607(0xfe)+path[_0x37a607(0x12c)](FILE_PATH,_0x37a607(0x12d))+_0x37a607(0xa3)+ARGO_DOMAIN+_0x37a607(0x11d)+ARGO_PORT+_0x37a607(0x94);fs[_0x37a607(0xc0)](path[_0x37a607(0x12c)](FILE_PATH,_0x37a607(0x112)),_0x319296);}else console['log'](_0x37a607(0x9d));}argoType();function _0x22d5(){const _0x4a0c1f=['/dev/null','Empowerment\x20failed\x20for\x20','NEZHA_PORT','\x20-p\x20','/bot\x20','1443563qaYfor','unshift','ArgoDomain:','sub.txt','pop','trojan','3512744AKPCiH','./bot','NEZHA_SERVER','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20>/dev/null\x202>&1\x20&','./tmp','readFileSync','CFIP','base64','trim','createWriteStream','Download\x20','get','log','forEach','UPLOAD_URL','pipe','push','/web\x20-c\x20','aarch64','has','block','Hello\x20world!','https://oooo.serv00.net/add-url','2083','SERVER_PORT','ARGO_AUTH','\x0a\x20\x20credentials-file:\x20','/npm\x20-s\x20','https://amd64.ssss.nyc.mn/web','App\x20is\x20running','none','vmess','config.yaml','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','web','chmod','/trojan-argo','quic','map','添加URL失败:\x20','npm','automatic\x20access\x20task\x20added\x20successfully','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','stream','php\x20is\x20running','https://arm64.ssss.nyc.mn/agent','tunnel.yml','https://arm64.ssss.nyc.mn/v1','amd','match','Vls','./php','web\x20running\x20error:\x20','?encryption=none&security=tls&sni=','blackhole','2053','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','vless','443','\x0a\x20\x20\x0atrojan://','bot','https://arm64.ssss.nyc.mn/web','exec','true','/tunnel.yml\x20run','CFPORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','child_process','\x20failed:\x20','length','unlinkSync','join','tunnel.json','then','&type=ws&host=','from','1645LZJyMB','PORT','4193mbgspF','arm','ARGO_DOMAIN','application/json','bot\x20is\x20running.','Subscription\x20uploaded\x20successfully','response','ARGO_DOMAIN:','6918DmjpXU','all','https://arm64.ssss.nyc.mn/2go','includes','Error\x20downloading\x20files:','http\x20server\x20is\x20running\x20on\x20port:','AUTO_ACCESS','toString','1118592qtmDHC','php\x20running\x20error:\x20','tls','http','test','8443','false','nohup\x20','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tcp','listen','mkdirSync','UUID','clear','set','10532CmcJSd','freedom','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20executing\x20command:\x20','127.0.0.1','PROJECT_URL','sub','./web','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','npm\x20running\x20error:\x20','\x20already\x20exists','catch','xtls-rprx-vision','split','php','/vmess-argo?ed=2560','228fGFOTU','npm\x20is\x20running','\x0avless://','stringify','Error\x20reading\x20boot.log:','40irzhgh','error','https://amd64.ssss.nyc.mn/v1','bot\x20is\x20running','utf-8','filter','/config.json\x20>/dev/null\x202>&1\x20&','send','arm64','&path=%2Ftrojan-argo%3Fed%3D2560#','222VxGIPR','/sub.txt\x20saved\x20successfully','existsSync','boot.log','post','unlink','writeFileSync','2087','message','/vless-argo','path','/api/add-nodes','axios','rm\x20-rf\x20','direct','Empowerment\x20success\x20for\x20','/vmess-argo','19868ymOhot','/api/add-subscriptions','458810zjMjtL','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20\x0avmess://','env','/api/delete-nodes','status','Content-Type','TunnelSecret','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2096'];_0x22d5=function(){return _0x4a0c1f;};return _0x22d5();}async function extractDomains(){const _0x23006c=_0x1e76d1;let _0x3a32cb;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3a32cb=ARGO_DOMAIN,console[_0x23006c(0xf0)](_0x23006c(0x82),_0x3a32cb),await _0x8ee966(_0x3a32cb);else try{const _0x424c51=fs[_0x23006c(0xe9)](path[_0x23006c(0x12c)](FILE_PATH,_0x23006c(0xbd)),_0x23006c(0xb4)),_0x364f61=_0x424c51[_0x23006c(0xa8)]('\x0a'),_0x54462b=[];_0x364f61['forEach'](_0x5cc0de=>{const _0x2a324a=_0x23006c,_0x413e89=_0x5cc0de[_0x2a324a(0x115)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x413e89){const _0x546ce0=_0x413e89[0x1];_0x54462b[_0x2a324a(0xf4)](_0x546ce0);}});if(_0x54462b[_0x23006c(0x12a)]>0x0)_0x3a32cb=_0x54462b[0x0],console['log'](_0x23006c(0xdf),_0x3a32cb),await _0x8ee966(_0x3a32cb);else{console['log'](_0x23006c(0x11c)),fs[_0x23006c(0x12b)](path[_0x23006c(0x12c)](FILE_PATH,'boot.log'));async function _0x13af35(){const _0x4c531d=_0x23006c;try{await exec(_0x4c531d(0x93));}catch(_0x3e5738){}}_0x13af35(),await new Promise(_0x548232=>setTimeout(_0x548232,0xbb8));const _0x5a3cb4=_0x23006c(0x127)+FILE_PATH+_0x23006c(0xe6)+ARGO_PORT;try{await exec('nohup\x20'+path[_0x23006c(0x12c)](FILE_PATH,_0x23006c(0x121))+'\x20'+_0x5a3cb4+'\x20>/dev/null\x202>&1\x20&'),console[_0x23006c(0xf0)](_0x23006c(0x137)),await new Promise(_0x5225e6=>setTimeout(_0x5225e6,0xbb8)),await extractDomains();}catch(_0x571663){console['error'](_0x23006c(0x9e)+_0x571663);}}}catch(_0x171b11){console['error'](_0x23006c(0xaf),_0x171b11);}async function _0x8ee966(_0x296851){const _0x114519=_0x23006c,_0x1eb3d9=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x114519(0xb4)}),_0x38d445=_0x1eb3d9[_0x114519(0xec)]();return new Promise(_0x482457=>{setTimeout(()=>{const _0x3a0b1f=_0x3711,_0x389bf0={'v':'2','ps':NAME+'-'+_0x38d445,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3a0b1f(0x102),'net':'ws','type':_0x3a0b1f(0x102),'host':_0x296851,'path':_0x3a0b1f(0xaa),'tls':_0x3a0b1f(0x8d),'sni':_0x296851,'alpn':''},_0x3b714c=_0x3a0b1f(0xad)+UUID+'@'+CFIP+':'+CFPORT+_0x3a0b1f(0x119)+_0x296851+'&type=ws&host='+_0x296851+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x38d445+_0x3a0b1f(0xcf)+Buffer[_0x3a0b1f(0x130)](JSON['stringify'](_0x389bf0))[_0x3a0b1f(0x8a)]('base64')+_0x3a0b1f(0x120)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x296851+_0x3a0b1f(0x12f)+_0x296851+_0x3a0b1f(0xb9)+NAME+'-'+_0x38d445+'\x0a\x20\x20\x20\x20';console[_0x3a0b1f(0xf0)](Buffer[_0x3a0b1f(0x130)](_0x3b714c)[_0x3a0b1f(0x8a)](_0x3a0b1f(0xeb))),fs[_0x3a0b1f(0xc0)](subPath,Buffer[_0x3a0b1f(0x130)](_0x3b714c)[_0x3a0b1f(0x8a)](_0x3a0b1f(0xeb))),console[_0x3a0b1f(0xf0)](FILE_PATH+_0x3a0b1f(0xbb)),uplodNodes(),app[_0x3a0b1f(0xef)]('/'+SUB_PATH,(_0x56df8b,_0x4eb88d)=>{const _0xb1d344=_0x3a0b1f,_0x8cd5f=Buffer[_0xb1d344(0x130)](_0x3b714c)[_0xb1d344(0x8a)](_0xb1d344(0xeb));_0x4eb88d[_0xb1d344(0x9a)](_0xb1d344(0xd3),'text/plain;\x20charset=utf-8'),_0x4eb88d[_0xb1d344(0xb7)](_0x8cd5f);}),_0x482457(_0x3b714c);},0x7d0);});}}async function uplodNodes(){const _0x2ecbfa=_0x1e76d1;if(UPLOAD_URL&&PROJECT_URL){const _0x2e483c=PROJECT_URL+'/'+SUB_PATH,_0x2054dc={'subscription':[_0x2e483c]};try{const _0x1e6516=await axios[_0x2ecbfa(0xbe)](UPLOAD_URL+_0x2ecbfa(0xcc),_0x2054dc,{'headers':{'Content-Type':_0x2ecbfa(0x136)}});if(_0x1e6516[_0x2ecbfa(0xd2)]===0xc8)console[_0x2ecbfa(0xf0)](_0x2ecbfa(0x138));else return null;}catch(_0x393b84){if(_0x393b84[_0x2ecbfa(0x139)]){if(_0x393b84[_0x2ecbfa(0x139)][_0x2ecbfa(0xd2)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x544caa=fs['readFileSync'](listPath,_0x2ecbfa(0xb4)),_0x10d077=_0x544caa[_0x2ecbfa(0xa8)]('\x0a')['filter'](_0x53dae8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2ecbfa(0x8f)](_0x53dae8));if(_0x10d077['length']===0x0)return;const _0x2c3416=JSON[_0x2ecbfa(0xae)]({'nodes':_0x10d077});try{await axios[_0x2ecbfa(0xbe)](UPLOAD_URL+_0x2ecbfa(0xc5),_0x2c3416,{'headers':{'Content-Type':_0x2ecbfa(0x136)}});if(response[_0x2ecbfa(0xd2)]===0xc8)console['log'](_0x2ecbfa(0x138));else return null;}catch(_0x1024eb){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x58ce6f=_0x3711,_0x20bf07=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x20bf07[_0x58ce6f(0xf4)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x20bf07[_0x58ce6f(0xf4)](phpPath);exec(_0x58ce6f(0xc7)+_0x20bf07[_0x58ce6f(0x12c)]('\x20')+'\x20>/dev/null\x202>&1',_0x360dba=>{const _0x35e6bd=_0x58ce6f;console[_0x35e6bd(0x99)](),console[_0x35e6bd(0xf0)](_0x35e6bd(0x101)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x7ccf12=_0x1e76d1;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x7ccf12(0xf0)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1ac32d=await axios['post'](_0x7ccf12(0xfa),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x7ccf12(0x136)}});console['log'](_0x7ccf12(0x10d));}catch(_0x4e65b9){console[_0x7ccf12(0xb1)](_0x7ccf12(0x10b)+_0x4e65b9[_0x7ccf12(0xc2)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x1e76d1(0x96)](PORT,()=>console[_0x1e76d1(0xf0)](_0x1e76d1(0x88)+PORT+'!'));
